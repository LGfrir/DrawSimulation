# ⭐ 抽卡模拟器介绍

---

## 🚀 启动方式

1. 下载 **`DrawSim.zip`**
2. 解压文件
3. 进入文件夹，**不要修改或删除 `custom-jre` 文件夹**
4. 双击 **`DrawSim.exe`** 启动程序

---

## 🎮 模式说明

### 🎯 模式一：抽数期望计算

- **用途**：估算平均需要多少抽才能达成目标
- **机制**：
    - 模拟 10,000 次完整抽卡
    - 统计每次模拟中达成目标所需的抽数
    - 生成成功率图表 & 平均抽数

### 🧠 模式二：抽卡策略成功率

- **用途**：评估当前抽数是否足以达成目标
- **机制**：
    - 给定抽数后进行完整模拟
    - 每次模拟记录最终达成的命座/武器数
    - 汇总为不同结果的成功概率

---

## ✨ 模拟器特点

### 🌟 星辉补偿机制
1. 当第一次获取限定四星角色时，不返还星辉，若四星角色已经满命，返还5星辉，其余情况返还2星辉
2. 当第一次获取限定五星角色时，不返还星辉，若五星角色已经满命，返还25星辉，其余情况返还10星辉
3. 获取任意四星武器时，返还2星辉
4. 获取任意五星武器时，返还10星辉
5. 任何卡池以外的角色视为0命，且不累加

---

### 🧭 捕获明光机制

1. 初始计数器值为 1
2. 若小保底触发时计数器为 3，则此次必定不歪，并重置为 1
3. 小保底歪：计数器 +1，未歪：计数器 -1（不低于 0）
   > 参考机制来自 [@一颗平衡树 - OneBST]  
   > 官方基础概率 0.018% 视为 0

---

## 🛠️ 使用说明

### 📌 必填输入项：
- 游戏类型
- 四星角色命座
- 五星角色命座/武器个数
- 垫抽情况，保底情况
- 模拟次数
---


### 📝 抽卡策略输入格式

假设你想从“无角色无武器”的初始状态出发，目标是 **2命角色 + 1精武器**，可以使用如下格式进行策略输入：

```
C 1  
W 1  
C 2  
end
```

- `C` 表示角色命座的阶段推进，`W` 表示武器精炼的阶段推进
- 数字代表本阶段将角色或武器命座提升几个等级
- 输入以 `end` 结尾，表示策略结束

该示例表示抽卡策略为：
1. 初始状态：无角色 + 0精武器
2. 第一阶段：抽到 0命角色（-+0 → 0+0）
3. 第二阶段：抽到 1精武器（0+0 → 0+1）
4. 第三阶段：再抽到 2命角色（0+1 → 2+1）

> 系统默认最终目标为：**6命角色 + 5精武器**，且满足 **先角色后武器** 原则。  
> 系统每出一个金时，会自动更新状态，所以不需要手动逐级拆分，如下写法是 **不必要的**：
```
C 1  
W 1  
C 1  
C 1  
end
```
---

### ✅ 核对输入

模拟开始前系统会提示你确认所有输入：

- 若已经正确输入则输入：`0`
- 有误输入：填写错误项的编号，重新修改

---

## ❓ 常见问题解答（FAQ）

### Q1：为什么“抽数期望”模式中，抽数可能小于 0？

**A**：因“星辉返还”机制存在，当每次抽卡都返还抽数时，可能出现 **抽卡次数倒转** 的极端情况，造成**净抽数为负数**。

---

### Q2：为什么同样的抽数，在两个模式中成功率不同？

**A**：两者终止条件不同：

| 模式 | 模拟规则 | 成功率偏差 |
|------|----------|-------------|
| 抽数期望（模式1） | 模拟到目标完成为止，可能返还抽数，继续模拟 | 成功率略高 |
| 成功率评估（模式2） | 抽数用尽即停止 | 更贴近实际情况 |

---

## 🧑‍🏫 模拟器推荐使用场景

| 模式               | 推荐用途                   | 推荐用户           |
|--------------------|----------------------------|----------------|
| 模式1：抽数期望     | 规划长期抽卡策略，了解平均消耗 | 资源储备党，只要6+5的根根 |
| 模式2：成功率评估   | 当前资源能否完成目标         | 实用派、目标冲刺玩家     |

---

## 🚧 项目仍在开发中！

欢迎反馈问题与建议，帮助我们改进模拟器的逻辑与用户体验！
